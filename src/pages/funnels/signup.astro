---
// src/pages/funnels/signup.astro
import BaseLayout from '../../layouts/BaseLayout.astro';
---

<BaseLayout 
  title="Start Your Free Trial | QuranAble" 
  description="Begin your Quranic learning journey today with our structured, edge-performance platform."
>
  <style>
    /* Edge UI Background Gradient */
    .edge-gradient {
      background: linear-gradient(135deg, #1e1b4b 0%, #312e81 100%);
      position: relative;
      overflow: hidden;
    }
    .edge-gradient::before {
      content: '';
      position: absolute;
      top: 0; right: 0; bottom: 0; left: 0;
      background: radial-gradient(circle at top right, rgba(236,72,153,0.15) 0%, transparent 60%),
                  radial-gradient(circle at bottom left, rgba(139,92,246,0.15) 0%, transparent 60%);
      pointer-events: none;
    }
  </style>

  <section class="bg-slate-50 min-h-screen py-12 px-4 sm:px-6 flex justify-center items-center">
    
    <div class="w-full max-w-5xl bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row border border-slate-200">
      
      <div class="md:w-5/12 edge-gradient p-10 md:p-14 text-white relative flex flex-col justify-center">
        <div class="relative z-10">
          <h1 class="text-3xl md:text-4xl font-extrabold tracking-tight mb-4 leading-tight">
            Begin your <br/>
            <span class="text-pink-500">edge learning</span> <br/>
            journey.
          </h1>
          <p class="text-indigo-200 leading-relaxed mb-8 font-medium">
            Join the most advanced, humanized online Quran academy. Experience zero-second loading and expert guidance.
          </p>

          <ul class="space-y-5">
            <li class="flex items-start">
              <div class="flex-shrink-0 h-6 w-6 rounded-full bg-white/10 border border-white/20 flex items-center justify-center mt-0.5">
                <svg class="h-3.5 w-3.5 text-pink-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
              </div>
              <p class="ml-3 font-medium text-white text-base">1-on-1 expert guidance</p>
            </li>
            <li class="flex items-start">
              <div class="flex-shrink-0 h-6 w-6 rounded-full bg-white/10 border border-white/20 flex items-center justify-center mt-0.5">
                <svg class="h-3.5 w-3.5 text-pink-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
              </div>
              <p class="ml-3 font-medium text-white text-base">Personalized pace & curriculum</p>
            </li>
            <li class="flex items-start">
              <div class="flex-shrink-0 h-6 w-6 rounded-full bg-white/10 border border-white/20 flex items-center justify-center mt-0.5">
                <svg class="h-3.5 w-3.5 text-pink-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
              </div>
              <p class="ml-3 font-medium text-white text-base">Verified Ijazah Scholars</p>
            </li>
          </ul>

          <div class="mt-10 pt-8 border-t border-white/10 flex items-center gap-3">
            <div class="flex gap-1 text-amber-400">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
            </div>
            <span class="text-sm font-medium text-white">Trusted by parents globally</span>
          </div>
        </div>
      </div>

      <div class="md:w-7/12 p-8 md:p-14 bg-white flex flex-col justify-center">
        <div class="mb-8">
          <h2 class="text-3xl md:text-4xl font-extrabold text-indigo-950 tracking-tight mb-3">
            Sign up to start your <span class="text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-violet-500">free trial.</span>
          </h2>
          <div class="flex items-center gap-2 text-sm text-slate-700 font-bold bg-green-50 w-fit px-3 py-1.5 rounded-full border border-green-200">
            <svg class="w-4 h-4 text-green-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
            No credit card required
          </div>
        </div>
        
        <form action="https://formsubmit.co/faisalkhan.llc.ltd@gmail.com" method="POST" class="space-y-5">
          <input type="text" name="_honey" style="display:none">
          
          <input type="hidden" name="_captcha" value="false">
          
          <input type="hidden" name="_next" value="https://quranable.com/funnels/thank-you">
          
          <input type="hidden" name="_subject" value="New Lead: QuranAble Free Trial!">
          <input type="hidden" name="Attribution_Source" id="edge_lead_source" value="Direct/Organic">

          <div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
            <div class="sm:col-span-2">
              <label for="name" class="block text-sm font-bold text-slate-700 mb-1.5">Full Name *</label>
              <input type="text" name="name" id="name" required placeholder="e.g. Faisal Khan" class="w-full px-4 py-3.5 rounded-xl border border-slate-200 bg-slate-50 text-slate-900 focus:bg-white focus:border-pink-500 focus:ring-4 focus:ring-pink-500/10 outline-none transition-all duration-300 shadow-sm text-base">
            </div>
            
            <div>
              <label for="email" class="block text-sm font-bold text-slate-700 mb-1.5">Email Address *</label>
              <input type="email" name="email" id="email" required placeholder="faisal@example.com" class="w-full px-4 py-3.5 rounded-xl border border-slate-200 bg-slate-50 text-slate-900 focus:bg-white focus:border-pink-500 focus:ring-4 focus:ring-pink-500/10 outline-none transition-all duration-300 shadow-sm text-base">
            </div>

            <div>
              <label for="whatsapp" class="block text-sm font-bold text-slate-700 mb-1.5">WhatsApp Number *</label>
              <input type="tel" name="whatsapp" id="whatsapp" required placeholder="+1 234 567 8900" class="w-full px-4 py-3.5 rounded-xl border border-slate-200 bg-slate-50 text-slate-900 focus:bg-white focus:border-pink-500 focus:ring-4 focus:ring-pink-500/10 outline-none transition-all duration-300 shadow-sm text-base">
            </div>

            <div class="sm:col-span-2">
              <label for="country" class="block text-sm font-bold text-slate-700 mb-1.5">Country of Residence *</label>
              <input type="text" name="country" id="country" required autocomplete="country" placeholder="e.g. United States, UK, UAE" class="w-full px-4 py-3.5 rounded-xl border border-slate-200 bg-slate-50 text-slate-900 focus:bg-white focus:border-pink-500 focus:ring-4 focus:ring-pink-500/10 outline-none transition-all duration-300 shadow-sm text-base">
            </div>
            
            <div class="sm:col-span-2">
              <label for="details" class="block text-sm font-bold text-slate-700 mb-1.5">Further Details (Optional)</label>
              <textarea name="details" id="details" rows="3" placeholder="Tell us who is joining and your primary goals..." class="w-full px-4 py-3.5 rounded-xl border border-slate-200 bg-slate-50 text-slate-900 focus:bg-white focus:border-pink-500 focus:ring-4 focus:ring-pink-500/10 outline-none transition-all duration-300 shadow-sm text-base resize-none"></textarea>
            </div>
          </div>

          <div class="pt-3">
            <button type="submit" class="w-full bg-gradient-to-r from-pink-500 to-violet-500 text-white px-8 py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl hover:shadow-pink-500/30 transition-all duration-300 active:scale-[0.98] flex items-center justify-center gap-2 group focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-pink-300">
              Start Free Trial
              <svg class="w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M14 5l7 7m0 0l-7 7m7-7H3" /></svg>
            </button>
            
            <p class="text-[11px] text-center text-slate-500 mt-4 font-medium leading-relaxed">
              By submitting this form, you agree to our <a href="/terms" class="underline hover:text-pink-500 transition-colors">Terms of Service</a> and <a href="/privacy" class="underline hover:text-pink-500 transition-colors">Privacy Policy</a>. We will never sell your data.
            </p>
          </div>
          
        </form>
      </div>

    </div>
  </section>
  
  <script is:inline>
    // Edge Tracking: Automatically capture where the lead came from (Google Ads, Facebook, Organic)
    document.addEventListener('DOMContentLoaded', () => {
      const sourceInput = document.getElementById('edge_lead_source');
      if (sourceInput) {
        const urlParams = new URLSearchParams(window.location.search);
        // Look for UTM parameters from ad campaigns
        const utmSource = urlParams.get('utm_source');
        const utmMedium = urlParams.get('utm_medium');
        
        if (utmSource) {
          sourceInput.value = `${utmSource} / ${utmMedium || 'unknown'}`;
        } else if (document.referrer) {
          sourceInput.value = `Referral: ${new URL(document.referrer).hostname}`;
        } else {
          sourceInput.value = 'Direct / Organic Search';
        }
      }
    });
  </script>
</BaseLayout>